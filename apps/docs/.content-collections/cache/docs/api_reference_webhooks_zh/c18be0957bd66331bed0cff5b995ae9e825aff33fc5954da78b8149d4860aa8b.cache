{"title":"Webhooks","description":"接收记忆事件的实时通知","content":"# Webhooks\n\nWebhooks 允许您在 Memokit 账户中发生事件时接收实时 HTTP 通知。\n\n## 概述\n\n当您配置了 webhook 后，Memokit 会在订阅的事件发生时向您指定的 URL 发送 HTTP POST 请求。这使得无需轮询 API 即可实现实时集成。\n\n## Webhook 事件\n\n| 事件 | 描述 |\n|------|------|\n| `memory.created` | 创建了新记忆 |\n| `memory.updated` | 更新了记忆 |\n| `memory.deleted` | 删除了记忆 |\n\n## Webhook 载荷\n\n所有 webhook 载荷遵循以下结构：\n\n```json\n{\n  \"id\": \"wh_delivery_abc123\",\n  \"event\": \"memory.created\",\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"data\": {\n    \"id\": \"mem_abc123\",\n    \"content\": \"用户提到...\",\n    \"userId\": \"user_123\",\n    \"createdAt\": \"2024-01-15T10:30:00Z\"\n  }\n}\n```\n\n## 设置 Webhooks\n\n### 1. 创建 Webhook 端点\n\n首先，在您的服务器上创建一个可以接收 POST 请求的端点：\n\n```javascript\n// Express.js 示例\napp.post('/webhooks/memokit', (req, res) => {\n  const signature = req.headers['x-memokit-signature'];\n  const payload = req.body;\n\n  // 验证签名\n  if (!verifySignature(payload, signature, webhookSecret)) {\n    return res.status(401).send('签名无效');\n  }\n\n  // 处理事件\n  switch (payload.event) {\n    case 'memory.created':\n      handleMemoryCreated(payload.data);\n      break;\n    case 'memory.updated':\n      handleMemoryUpdated(payload.data);\n      break;\n    case 'memory.deleted':\n      handleMemoryDeleted(payload.data);\n      break;\n  }\n\n  res.status(200).send('OK');\n});\n```\n\n### 2. 注册 Webhook\n\n在 Memokit 控制台中：\n\n1. 在侧边栏中进入 **Webhooks**\n2. 点击 **创建 Webhook**\n3. 输入您的端点 URL\n4. 选择要接收的事件\n5. 保存 webhook\n\n### 3. 验证签名\n\n每个 webhook 请求都包含用于验证的签名头：\n\n```\nX-Memokit-Signature: sha256=abc123...\n```\n\n使用 HMAC-SHA256 验证签名：\n\n```javascript\nconst crypto = require('crypto');\n\nfunction verifySignature(payload, signature, secret) {\n  const expectedSignature = 'sha256=' + crypto\n    .createHmac('sha256', secret)\n    .update(JSON.stringify(payload))\n    .digest('hex');\n\n  return crypto.timingSafeEqual(\n    Buffer.from(signature),\n    Buffer.from(expectedSignature)\n  );\n}\n```\n\n## Webhook 重试\n\n如果您的端点返回错误（非 2xx 状态码），Memokit 会重试投递：\n\n| 尝试次数 | 延迟 |\n|---------|------|\n| 1 | 立即 |\n| 2 | 1 分钟 |\n| 3 | 5 分钟 |\n| 4 | 30 分钟 |\n| 5 | 2 小时 |\n\n5 次失败后，webhook 投递被标记为失败。\n\n## 最佳实践\n\n### 快速响应\n\n尽快返回 200 响应。异步处理 webhook 数据：\n\n```javascript\napp.post('/webhooks/memokit', async (req, res) => {\n  // 验证签名\n  if (!verifySignature(req.body, req.headers['x-memokit-signature'], secret)) {\n    return res.status(401).send('签名无效');\n  }\n\n  // 加入队列处理\n  await queue.add('process-webhook', req.body);\n\n  // 立即返回\n  res.status(200).send('OK');\n});\n```\n\n### 处理重复\n\nWebhook 投递可能会发送多次。使用投递 ID 进行去重：\n\n```javascript\nasync function processWebhook(payload) {\n  const deliveryId = payload.id;\n\n  // 检查是否已处理\n  if (await isDeliveryProcessed(deliveryId)) {\n    return;\n  }\n\n  // 处理 webhook\n  await handleWebhookEvent(payload);\n\n  // 标记为已处理\n  await markDeliveryProcessed(deliveryId);\n}\n```\n\n### 使用 HTTPS\n\n始终使用 HTTPS 端点以确保 webhook 数据在传输中加密。\n\n## 查看 Webhook 日志\n\n在 Memokit 控制台中，您可以查看 webhook 投递日志：\n\n1. 进入 **Webhooks**\n2. 点击某个 webhook\n3. 查看 **投递日志** 标签\n\n每条日志显示：\n\n- 投递时间戳\n- 事件类型\n- 响应状态码\n- 响应时间\n- 请求/响应体（用于调试）\n\n## 错误码\n\n| 错误码 | 描述 |\n|--------|------|\n| `WEBHOOK_NOT_FOUND` | 指定的 webhook 不存在 |\n| `INVALID_WEBHOOK_URL` | webhook URL 无效 |\n| `WEBHOOK_DELIVERY_FAILED` | 所有重试后 webhook 投递失败 |","_meta":{"filePath":"api-reference/webhooks.zh.mdx","fileName":"webhooks.zh.mdx","directory":"api-reference","extension":"mdx","path":"api-reference/webhooks.zh"},"toc":[{"title":"Webhooks","url":"#webhooks","depth":1},{"title":"概述","url":"#概述","depth":2},{"title":"Webhook 事件","url":"#webhook-事件","depth":2},{"title":"Webhook 载荷","url":"#webhook-载荷","depth":2},{"title":"设置 Webhooks","url":"#设置-webhooks","depth":2},{"title":"1. 创建 Webhook 端点","url":"#1-创建-webhook-端点","depth":3},{"title":"2. 注册 Webhook","url":"#2-注册-webhook","depth":3},{"title":"3. 验证签名","url":"#3-验证签名","depth":3},{"title":"Webhook 重试","url":"#webhook-重试","depth":2},{"title":"最佳实践","url":"#最佳实践","depth":2},{"title":"快速响应","url":"#快速响应","depth":3},{"title":"处理重复","url":"#处理重复","depth":3},{"title":"使用 HTTPS","url":"#使用-https","depth":3},{"title":"查看 Webhook 日志","url":"#查看-webhook-日志","depth":2},{"title":"错误码","url":"#错误码","depth":2}],"structuredData":{"contents":[{"heading":"webhooks","content":"Webhooks 允许您在 Memokit 账户中发生事件时接收实时 HTTP 通知。"},{"heading":"概述","content":"当您配置了 webhook 后，Memokit 会在订阅的事件发生时向您指定的 URL 发送 HTTP POST 请求。这使得无需轮询 API 即可实现实时集成。"},{"heading":"webhook-事件","content":"事件"},{"heading":"webhook-事件","content":"描述"},{"heading":"webhook-事件","content":"memory.created"},{"heading":"webhook-事件","content":"创建了新记忆"},{"heading":"webhook-事件","content":"memory.updated"},{"heading":"webhook-事件","content":"更新了记忆"},{"heading":"webhook-事件","content":"memory.deleted"},{"heading":"webhook-事件","content":"删除了记忆"},{"heading":"webhook-载荷","content":"所有 webhook 载荷遵循以下结构："},{"heading":"1-创建-webhook-端点","content":"首先，在您的服务器上创建一个可以接收 POST 请求的端点："},{"heading":"2-注册-webhook","content":"在 Memokit 控制台中："},{"heading":"2-注册-webhook","content":"在侧边栏中进入 Webhooks"},{"heading":"2-注册-webhook","content":"点击 创建 Webhook"},{"heading":"2-注册-webhook","content":"输入您的端点 URL"},{"heading":"2-注册-webhook","content":"选择要接收的事件"},{"heading":"2-注册-webhook","content":"保存 webhook"},{"heading":"3-验证签名","content":"每个 webhook 请求都包含用于验证的签名头："},{"heading":"3-验证签名","content":"使用 HMAC-SHA256 验证签名："},{"heading":"webhook-重试","content":"如果您的端点返回错误（非 2xx 状态码），Memokit 会重试投递："},{"heading":"webhook-重试","content":"尝试次数"},{"heading":"webhook-重试","content":"延迟"},{"heading":"webhook-重试","content":"1"},{"heading":"webhook-重试","content":"立即"},{"heading":"webhook-重试","content":"2"},{"heading":"webhook-重试","content":"1 分钟"},{"heading":"webhook-重试","content":"3"},{"heading":"webhook-重试","content":"5 分钟"},{"heading":"webhook-重试","content":"4"},{"heading":"webhook-重试","content":"30 分钟"},{"heading":"webhook-重试","content":"5"},{"heading":"webhook-重试","content":"2 小时"},{"heading":"webhook-重试","content":"5 次失败后，webhook 投递被标记为失败。"},{"heading":"快速响应","content":"尽快返回 200 响应。异步处理 webhook 数据："},{"heading":"处理重复","content":"Webhook 投递可能会发送多次。使用投递 ID 进行去重："},{"heading":"使用-https","content":"始终使用 HTTPS 端点以确保 webhook 数据在传输中加密。"},{"heading":"查看-webhook-日志","content":"在 Memokit 控制台中，您可以查看 webhook 投递日志："},{"heading":"查看-webhook-日志","content":"进入 Webhooks"},{"heading":"查看-webhook-日志","content":"点击某个 webhook"},{"heading":"查看-webhook-日志","content":"查看 投递日志 标签"},{"heading":"查看-webhook-日志","content":"每条日志显示："},{"heading":"查看-webhook-日志","content":"投递时间戳"},{"heading":"查看-webhook-日志","content":"事件类型"},{"heading":"查看-webhook-日志","content":"响应状态码"},{"heading":"查看-webhook-日志","content":"响应时间"},{"heading":"查看-webhook-日志","content":"请求/响应体（用于调试）"},{"heading":"错误码","content":"错误码"},{"heading":"错误码","content":"描述"},{"heading":"错误码","content":"WEBHOOK_NOT_FOUND"},{"heading":"错误码","content":"指定的 webhook 不存在"},{"heading":"错误码","content":"INVALID_WEBHOOK_URL"},{"heading":"错误码","content":"webhook URL 无效"},{"heading":"错误码","content":"WEBHOOK_DELIVERY_FAILED"},{"heading":"错误码","content":"所有重试后 webhook 投递失败"}],"headings":[{"id":"webhooks","content":"Webhooks"},{"id":"概述","content":"概述"},{"id":"webhook-事件","content":"Webhook 事件"},{"id":"webhook-载荷","content":"Webhook 载荷"},{"id":"设置-webhooks","content":"设置 Webhooks"},{"id":"1-创建-webhook-端点","content":"1. 创建 Webhook 端点"},{"id":"2-注册-webhook","content":"2. 注册 Webhook"},{"id":"3-验证签名","content":"3. 验证签名"},{"id":"webhook-重试","content":"Webhook 重试"},{"id":"最佳实践","content":"最佳实践"},{"id":"快速响应","content":"快速响应"},{"id":"处理重复","content":"处理重复"},{"id":"使用-https","content":"使用 HTTPS"},{"id":"查看-webhook-日志","content":"查看 Webhook 日志"},{"id":"错误码","content":"错误码"}]},"body":"var Component=(()=>{var E=Object.create;var n=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var o=(h,i)=>()=>(i||h((i={exports:{}}).exports,i),i.exports),m=(h,i)=>{for(var l in i)n(h,l,{get:i[l],enumerable:!0})},r=(h,i,l,a)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let e of g(i))!F.call(h,e)&&e!==l&&n(h,e,{get:()=>i[e],enumerable:!(a=p(i,e))||a.enumerable});return h};var C=(h,i,l)=>(l=h!=null?E(y(h)):{},r(i||!h||!h.__esModule?n(l,\"default\",{value:h,enumerable:!0}):l,h)),b=h=>r(n({},\"__esModule\",{value:!0}),h);var k=o((A,d)=>{d.exports=_jsx_runtime});var B={};m(B,{default:()=>c});var s=C(k());function t(h){let i={code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",span:\"span\",strong:\"strong\",table:\"table\",tbody:\"tbody\",td:\"td\",th:\"th\",thead:\"thead\",tr:\"tr\",ul:\"ul\",...h.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:\"webhooks\",children:\"Webhooks\"}),`\n`,(0,s.jsx)(i.p,{children:\"Webhooks \\u5141\\u8BB8\\u60A8\\u5728 Memokit \\u8D26\\u6237\\u4E2D\\u53D1\\u751F\\u4E8B\\u4EF6\\u65F6\\u63A5\\u6536\\u5B9E\\u65F6 HTTP \\u901A\\u77E5\\u3002\"}),`\n`,(0,s.jsx)(i.h2,{id:\"\\u6982\\u8FF0\",children:\"\\u6982\\u8FF0\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u5F53\\u60A8\\u914D\\u7F6E\\u4E86 webhook \\u540E\\uFF0CMemokit \\u4F1A\\u5728\\u8BA2\\u9605\\u7684\\u4E8B\\u4EF6\\u53D1\\u751F\\u65F6\\u5411\\u60A8\\u6307\\u5B9A\\u7684 URL \\u53D1\\u9001 HTTP POST \\u8BF7\\u6C42\\u3002\\u8FD9\\u4F7F\\u5F97\\u65E0\\u9700\\u8F6E\\u8BE2 API \\u5373\\u53EF\\u5B9E\\u73B0\\u5B9E\\u65F6\\u96C6\\u6210\\u3002\"}),`\n`,(0,s.jsx)(i.h2,{id:\"webhook-\\u4E8B\\u4EF6\",children:\"Webhook \\u4E8B\\u4EF6\"}),`\n`,(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:\"\\u4E8B\\u4EF6\"}),(0,s.jsx)(i.th,{children:\"\\u63CF\\u8FF0\"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"memory.created\"})}),(0,s.jsx)(i.td,{children:\"\\u521B\\u5EFA\\u4E86\\u65B0\\u8BB0\\u5FC6\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"memory.updated\"})}),(0,s.jsx)(i.td,{children:\"\\u66F4\\u65B0\\u4E86\\u8BB0\\u5FC6\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"memory.deleted\"})}),(0,s.jsx)(i.td,{children:\"\\u5220\\u9664\\u4E86\\u8BB0\\u5FC6\"})]})]})]}),`\n`,(0,s.jsx)(i.h2,{id:\"webhook-\\u8F7D\\u8377\",children:\"Webhook \\u8F7D\\u8377\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u6240\\u6709 webhook \\u8F7D\\u8377\\u9075\\u5FAA\\u4EE5\\u4E0B\\u7ED3\\u6784\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>',children:(0,s.jsxs)(i.code,{children:[(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"{\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'  \"id\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"wh_delivery_abc123\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'  \"event\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"memory.created\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'  \"timestamp\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"2024-01-15T10:30:00Z\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'  \"data\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'    \"id\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"mem_abc123\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'    \"content\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"\\u7528\\u6237\\u63D0\\u5230...\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'    \"userId\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"user_123\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\",\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:'    \"createdAt\"'}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\": \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:'\"2024-01-15T10:30:00Z\"'})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,s.jsx)(i.h2,{id:\"\\u8BBE\\u7F6E-webhooks\",children:\"\\u8BBE\\u7F6E Webhooks\"}),`\n`,(0,s.jsx)(i.h3,{id:\"1-\\u521B\\u5EFA-webhook-\\u7AEF\\u70B9\",children:\"1. \\u521B\\u5EFA Webhook \\u7AEF\\u70B9\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u9996\\u5148\\uFF0C\\u5728\\u60A8\\u7684\\u670D\\u52A1\\u5668\\u4E0A\\u521B\\u5EFA\\u4E00\\u4E2A\\u53EF\\u4EE5\\u63A5\\u6536 POST \\u8BF7\\u6C42\\u7684\\u7AEF\\u70B9\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z\" fill=\"currentColor\" /></svg>',children:(0,s.jsxs)(i.code,{children:[(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"// Express.js \\u793A\\u4F8B\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"app.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"post\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'/webhooks/memokit'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", (\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"req\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"res\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\") \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"=>\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  const\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\" signature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" =\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" req.headers[\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'x-memokit-signature'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"];\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  const\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\" payload\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" =\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" req.body;\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u9A8C\\u8BC1\\u7B7E\\u540D\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  if\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" (\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"!\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"verifySignature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload, signature, webhookSecret)) {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    return\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" res.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"status\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\"401\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\").\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"send\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'\\u7B7E\\u540D\\u65E0\\u6548'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u5904\\u7406\\u4E8B\\u4EF6\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  switch\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" (payload.event) {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    case\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\" 'memory.created'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"      handleMemoryCreated\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload.data);\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"      break\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    case\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\" 'memory.updated'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"      handleMemoryUpdated\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload.data);\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"      break\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    case\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\" 'memory.deleted'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\":\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"      handleMemoryDeleted\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload.data);\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"      break\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  res.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"status\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\"200\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\").\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"send\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'OK'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,s.jsx)(i.h3,{id:\"2-\\u6CE8\\u518C-webhook\",children:\"2. \\u6CE8\\u518C Webhook\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u5728 Memokit \\u63A7\\u5236\\u53F0\\u4E2D\\uFF1A\"}),`\n`,(0,s.jsxs)(i.ol,{children:[`\n`,(0,s.jsxs)(i.li,{children:[\"\\u5728\\u4FA7\\u8FB9\\u680F\\u4E2D\\u8FDB\\u5165 \",(0,s.jsx)(i.strong,{children:\"Webhooks\"})]}),`\n`,(0,s.jsxs)(i.li,{children:[\"\\u70B9\\u51FB \",(0,s.jsx)(i.strong,{children:\"\\u521B\\u5EFA Webhook\"})]}),`\n`,(0,s.jsx)(i.li,{children:\"\\u8F93\\u5165\\u60A8\\u7684\\u7AEF\\u70B9 URL\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u9009\\u62E9\\u8981\\u63A5\\u6536\\u7684\\u4E8B\\u4EF6\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u4FDD\\u5B58 webhook\"}),`\n`]}),`\n`,(0,s.jsx)(i.h3,{id:\"3-\\u9A8C\\u8BC1\\u7B7E\\u540D\",children:\"3. \\u9A8C\\u8BC1\\u7B7E\\u540D\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u6BCF\\u4E2A webhook \\u8BF7\\u6C42\\u90FD\\u5305\\u542B\\u7528\\u4E8E\\u9A8C\\u8BC1\\u7684\\u7B7E\\u540D\\u5934\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>',children:(0,s.jsx)(i.code,{children:(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{children:\"X-Memokit-Signature: sha256=abc123...\"})})})})}),`\n`,(0,s.jsx)(i.p,{children:\"\\u4F7F\\u7528 HMAC-SHA256 \\u9A8C\\u8BC1\\u7B7E\\u540D\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z\" fill=\"currentColor\" /></svg>',children:(0,s.jsxs)(i.code,{children:[(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"const\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\" crypto\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" =\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" require\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'crypto'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"function\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" verifySignature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"payload\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"signature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"secret\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  const\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\" expectedSignature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" =\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\" 'sha256='\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" +\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" crypto\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"    .\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"createHmac\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'sha256'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", secret)\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"    .\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"update\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\"JSON\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\".\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"stringify\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload))\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"    .\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"digest\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'hex'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  return\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" crypto.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"timingSafeEqual\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"    Buffer.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"from\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(signature),\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"    Buffer.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"from\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(expectedSignature)\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  );\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,s.jsx)(i.h2,{id:\"webhook-\\u91CD\\u8BD5\",children:\"Webhook \\u91CD\\u8BD5\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u5982\\u679C\\u60A8\\u7684\\u7AEF\\u70B9\\u8FD4\\u56DE\\u9519\\u8BEF\\uFF08\\u975E 2xx \\u72B6\\u6001\\u7801\\uFF09\\uFF0CMemokit \\u4F1A\\u91CD\\u8BD5\\u6295\\u9012\\uFF1A\"}),`\n`,(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:\"\\u5C1D\\u8BD5\\u6B21\\u6570\"}),(0,s.jsx)(i.th,{children:\"\\u5EF6\\u8FDF\"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:\"1\"}),(0,s.jsx)(i.td,{children:\"\\u7ACB\\u5373\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:\"2\"}),(0,s.jsx)(i.td,{children:\"1 \\u5206\\u949F\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:\"3\"}),(0,s.jsx)(i.td,{children:\"5 \\u5206\\u949F\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:\"4\"}),(0,s.jsx)(i.td,{children:\"30 \\u5206\\u949F\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:\"5\"}),(0,s.jsx)(i.td,{children:\"2 \\u5C0F\\u65F6\"})]})]})]}),`\n`,(0,s.jsx)(i.p,{children:\"5 \\u6B21\\u5931\\u8D25\\u540E\\uFF0Cwebhook \\u6295\\u9012\\u88AB\\u6807\\u8BB0\\u4E3A\\u5931\\u8D25\\u3002\"}),`\n`,(0,s.jsx)(i.h2,{id:\"\\u6700\\u4F73\\u5B9E\\u8DF5\",children:\"\\u6700\\u4F73\\u5B9E\\u8DF5\"}),`\n`,(0,s.jsx)(i.h3,{id:\"\\u5FEB\\u901F\\u54CD\\u5E94\",children:\"\\u5FEB\\u901F\\u54CD\\u5E94\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u5C3D\\u5FEB\\u8FD4\\u56DE 200 \\u54CD\\u5E94\\u3002\\u5F02\\u6B65\\u5904\\u7406 webhook \\u6570\\u636E\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z\" fill=\"currentColor\" /></svg>',children:(0,s.jsxs)(i.code,{children:[(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"app.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"post\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'/webhooks/memokit'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"async\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" (\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"req\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"res\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\") \"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"=>\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" {\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u9A8C\\u8BC1\\u7B7E\\u540D\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  if\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" (\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"!\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"verifySignature\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(req.body, req.headers[\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'x-memokit-signature'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"], secret)) {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    return\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" res.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"status\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\"401\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\").\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"send\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'\\u7B7E\\u540D\\u65E0\\u6548'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u52A0\\u5165\\u961F\\u5217\\u5904\\u7406\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  await\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" queue.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"add\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'process-webhook'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\", req.body);\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u7ACB\\u5373\\u8FD4\\u56DE\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  res.\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"status\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\"200\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\").\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\"send\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#032F62\",\"--shiki-dark\":\"#9ECBFF\"},children:\"'OK'\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\");\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"});\"})})]})})}),`\n`,(0,s.jsx)(i.h3,{id:\"\\u5904\\u7406\\u91CD\\u590D\",children:\"\\u5904\\u7406\\u91CD\\u590D\"}),`\n`,(0,s.jsx)(i.p,{children:\"Webhook \\u6295\\u9012\\u53EF\\u80FD\\u4F1A\\u53D1\\u9001\\u591A\\u6B21\\u3002\\u4F7F\\u7528\\u6295\\u9012 ID \\u8FDB\\u884C\\u53BB\\u91CD\\uFF1A\"}),`\n`,(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.pre,{className:\"shiki shiki-themes github-light github-dark\",style:{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},tabIndex:\"0\",icon:'<svg viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z\" fill=\"currentColor\" /></svg>',children:(0,s.jsxs)(i.code,{children:[(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"async\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" function\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" processWebhook\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},children:\"payload\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\") {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  const\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},children:\" deliveryId\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\" =\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" payload.id;\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u68C0\\u67E5\\u662F\\u5426\\u5DF2\\u5904\\u7406\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  if\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\" (\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"await\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" isDeliveryProcessed\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(deliveryId)) {\"})]}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"    return\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\";\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"  }\"})}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u5904\\u7406 webhook\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  await\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" handleWebhookEvent\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(payload);\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\"}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},children:\"  // \\u6807\\u8BB0\\u4E3A\\u5DF2\\u5904\\u7406\"})}),`\n`,(0,s.jsxs)(i.span,{className:\"line\",children:[(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},children:\"  await\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},children:\" markDeliveryProcessed\"}),(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"(deliveryId);\"})]}),`\n`,(0,s.jsx)(i.span,{className:\"line\",children:(0,s.jsx)(i.span,{style:{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},children:\"}\"})})]})})}),`\n`,(0,s.jsx)(i.h3,{id:\"\\u4F7F\\u7528-https\",children:\"\\u4F7F\\u7528 HTTPS\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u59CB\\u7EC8\\u4F7F\\u7528 HTTPS \\u7AEF\\u70B9\\u4EE5\\u786E\\u4FDD webhook \\u6570\\u636E\\u5728\\u4F20\\u8F93\\u4E2D\\u52A0\\u5BC6\\u3002\"}),`\n`,(0,s.jsx)(i.h2,{id:\"\\u67E5\\u770B-webhook-\\u65E5\\u5FD7\",children:\"\\u67E5\\u770B Webhook \\u65E5\\u5FD7\"}),`\n`,(0,s.jsx)(i.p,{children:\"\\u5728 Memokit \\u63A7\\u5236\\u53F0\\u4E2D\\uFF0C\\u60A8\\u53EF\\u4EE5\\u67E5\\u770B webhook \\u6295\\u9012\\u65E5\\u5FD7\\uFF1A\"}),`\n`,(0,s.jsxs)(i.ol,{children:[`\n`,(0,s.jsxs)(i.li,{children:[\"\\u8FDB\\u5165 \",(0,s.jsx)(i.strong,{children:\"Webhooks\"})]}),`\n`,(0,s.jsx)(i.li,{children:\"\\u70B9\\u51FB\\u67D0\\u4E2A webhook\"}),`\n`,(0,s.jsxs)(i.li,{children:[\"\\u67E5\\u770B \",(0,s.jsx)(i.strong,{children:\"\\u6295\\u9012\\u65E5\\u5FD7\"}),\" \\u6807\\u7B7E\"]}),`\n`]}),`\n`,(0,s.jsx)(i.p,{children:\"\\u6BCF\\u6761\\u65E5\\u5FD7\\u663E\\u793A\\uFF1A\"}),`\n`,(0,s.jsxs)(i.ul,{children:[`\n`,(0,s.jsx)(i.li,{children:\"\\u6295\\u9012\\u65F6\\u95F4\\u6233\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u4E8B\\u4EF6\\u7C7B\\u578B\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u54CD\\u5E94\\u72B6\\u6001\\u7801\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u54CD\\u5E94\\u65F6\\u95F4\"}),`\n`,(0,s.jsx)(i.li,{children:\"\\u8BF7\\u6C42/\\u54CD\\u5E94\\u4F53\\uFF08\\u7528\\u4E8E\\u8C03\\u8BD5\\uFF09\"}),`\n`]}),`\n`,(0,s.jsx)(i.h2,{id:\"\\u9519\\u8BEF\\u7801\",children:\"\\u9519\\u8BEF\\u7801\"}),`\n`,(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{children:\"\\u9519\\u8BEF\\u7801\"}),(0,s.jsx)(i.th,{children:\"\\u63CF\\u8FF0\"})]})}),(0,s.jsxs)(i.tbody,{children:[(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"WEBHOOK_NOT_FOUND\"})}),(0,s.jsx)(i.td,{children:\"\\u6307\\u5B9A\\u7684 webhook \\u4E0D\\u5B58\\u5728\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"INVALID_WEBHOOK_URL\"})}),(0,s.jsx)(i.td,{children:\"webhook URL \\u65E0\\u6548\"})]}),(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{children:(0,s.jsx)(i.code,{children:\"WEBHOOK_DELIVERY_FAILED\"})}),(0,s.jsx)(i.td,{children:\"\\u6240\\u6709\\u91CD\\u8BD5\\u540E webhook \\u6295\\u9012\\u5931\\u8D25\"})]})]})]})]})}function c(h={}){let{wrapper:i}=h.components||{};return i?(0,s.jsx)(i,{...h,children:(0,s.jsx)(t,{...h})}):t(h)}return b(B);})();\n;return Component;"}